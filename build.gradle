group 'groovy-vs-java'
version '1.0-SNAPSHOT'

apply plugin: 'groovy'
apply plugin: 'idea'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

compileTestGroovy.dependsOn 'configureH2'

task configureH2(dependsOn: 'classes', type: JavaExec) {
    description 'populates the H2 databasse used for groovy tests'
    println "populate_h2.groovy"
    main "populate_h2"
    classpath sourceSets.main.runtimeClasspath
}
dependencies {
    compile 'com.h2database:h2:1.2.140'
    compile 'org.codehaus.groovy:groovy-all:2.3.11'
    compile 'org.spockframework:spock-core:1.0-groovy-2.4'
    compile 'mysql:mysql-connector-java:5.1.34'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}
